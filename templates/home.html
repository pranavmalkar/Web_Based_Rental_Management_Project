{% extends 'base.html' %}

{% block content %}

<!-- Hero Section -->
<section class="hero-section">
  <div class="container">
    <div class="row min-vh-75">
      <!-- Main Image Row -->
      <div class="col-12 text-center mb-5">
        <div class="position-relative w-100 hero-wrapper">
          <img src="https://images.unsplash.com/photo-1542314831-068cd1dbfeeb?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80"
            alt="Beautiful accommodation" class="img-fluid hero-fullwidth hero-image shadow-lg" style="width:100%; height:60vh; object-fit:cover;">
          <div class="position-absolute top-0 end-0 bg-dark rounded-circle p-3 shadow-lg favorite-btn">
            <i class="fas fa-heart text-danger fa-lg"></i>
          </div>
        </div>
      </div>

      <!-- Text and Search Row -->
      <div class="col-12 text-center">
        <h1 class="hero-title">Find your next stay</h1>
        <p class="hero-subtitle">Search deals on hotels, homes, and much more...</p>

        <div class="search-box mx-auto" style="max-width: 1000px;padding:20px;">
          <form method="GET" action="{% url 'listings:property_list' %}">
            <div class="row g-3">
              <div class="col-md-3">
                <label class="form-label fw-bold text-light">Where</label>
                <input type="text" name="search" class="form-control form-control-lg" placeholder="Search destinations">
              </div>
              <div class="col-md-3">
                <label class="form-label fw-bold text-light">Check-in</label>
                <input type="date" name="check_in" class="form-control form-control-lg">
              </div>
              <div class="col-md-3">
                <label class="form-label fw-bold text-light">Check-out</label>
                <input type="date" name="check_out" class="form-control form-control-lg">
              </div>
              <div class="col-md-3">
                <label class="form-label fw-bold text-light">Guests</label>
                <select name="guests" class="form-select form-select-lg">
                  <option>1 guest</option>
                  <option>2 guests</option>
                  <option>3 guests</option>
                  <option>4+ guests</option>
                </select>
              </div>
              <div class="col-12">
                <button type="submit" class="btn btn-primary btn-lg w-100">
                  <i class="fas fa-search me-2"></i>Search
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Categories Section -->
<section class="categories-section py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-5 text-gradient">Explore by category</h2>
    <div class="row g-4">
      <div class="col-md-3 col-sm-6">
        <a href="{% url 'listings:property_list' %}?category=HOME" class="text-decoration-none">
          <div class="category-card h-100">
            <i class="fas fa-home text-primary"></i>
            <h5>Homes</h5>
            <p class="text-muted">Comfortable homes for families</p>
          </div>
        </a>
      </div>
      <div class="col-md-3 col-sm-6">
        <a href="{% url 'listings:property_list' %}?category=APARTMENT" class="text-decoration-none">
          <div class="category-card h-100">
            <i class="fas fa-city text-success"></i>
            <h5>Apartments</h5>
            <p class="text-muted">Modern apartments in cities</p>
          </div>
        </a>
      </div>
      <div class="col-md-3 col-sm-6">
        <a href="{% url 'listings:property_list' %}?category=BEACHFRONT" class="text-decoration-none">
          <div class="category-card h-100">
            <i class="fas fa-umbrella-beach text-warning"></i>
            <h5>Beachfront</h5>
            <p class="text-muted">Relaxing stays by the sea</p>
          </div>
        </a>
      </div>
      <div class="col-md-3 col-sm-6">
        <a href="{% url 'listings:property_list' %}?category=MOUNTAIN" class="text-decoration-none">
          <div class="category-card h-100">
            <i class="fas fa-mountain text-info"></i>
            <h5>Mountain</h5>
            <p class="text-muted">Scenic mountain retreats</p>
          </div>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Featured Properties -->
<section class="featured-section py-5">
  <div class="container">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h2 class="h2 fw-bold">Featured stays</h2>
      <a href="{% url 'listings:property_list' %}" class="btn btn-gradient">View all</a>
    </div>
    <div class="row g-4">
      {% for property in featured_properties|slice:":6" %}
      <div class="col-lg-4 col-md-6">
        <div class="property-card h-100">
          {% if property.main_image %}
            <img src="{{ property.main_image }}" class="card-img-top rounded-top gallery-image" alt="{{ property.title }}">
          {% else %}
            <div class="card-img-top bg-light d-flex align-items-center justify-content-center">
              <i class="fas fa-building fa-3x text-muted"></i>
            </div>
          {% endif %}
          <div class="card-body">
            <h6 class="card-title">{{ property.title }}</h6>
            <p class="location"><i class="fas fa-map-marker-alt me-1"></i>{{ property.city }}, {{ property.country }}</p>
            <p class="price">â‚¹{{ property.price_per_night }}/night</p>
            <a href="{% url 'listings:property_detail' property.pk %}" class="btn btn-gradient btn-sm">View Details</a>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="col-12 text-center py-5">
        <i class="fas fa-home fa-4x text-muted mb-3"></i>
        <h4>No properties available yet</h4>
        <p class="text-muted">Check back soon for amazing stays!</p>
      </div>
      {% endfor %}
    </div>
  </div>
</section>

<!-- Why Choose Us -->
<section class="feature-section py-5 bg-light">
  <div class="container">
    <h2 class="text-center mb-5 text-gradient">Why choose RentalHub?</h2>
    <div class="row g-4">
      <div class="col-md-4 text-center">
        <div class="feature-icon primary">
          <i class="fas fa-shield-alt"></i>
        </div>
        <h5>Verified Properties</h5>
        <p class="text-muted">All listings are verified for quality and safety</p>
      </div>
      <div class="col-md-4 text-center">
        <div class="feature-icon success">
          <i class="fas fa-lock"></i>
        </div>
        <h5>Secure Bookings</h5>
        <p class="text-muted">Safe and secure payment processing</p>
      </div>
      <div class="col-md-4 text-center">
        <div class="feature-icon info">
          <i class="fas fa-headset"></i>
        </div>
        <h5>24/7 Support</h5>
        <p class="text-muted">Round-the-clock customer support</p>
      </div>
    </div>
  </div>
</section>

<!-- Call to Action -->
<section class="cta-section">
  <div class="container text-center">
    <h2 class="mb-4 text-white">Ready to start your journey?</h2>
    <p class="lead mb-4 text-white-50">Join thousands of happy travelers and property owners</p>
    <div class="cta-buttons d-flex gap-3 justify-content-center flex-wrap">
      <a href="{% url 'accounts:traveller_signup' %}" class="btn btn-light btn-lg px-4">
        <i class="fas fa-search me-2"></i>Find Your Stay
      </a>
      <a href="{% url 'accounts:owner_signup' %}" class="btn btn-outline-light btn-lg px-4">
        <i class="fas fa-building me-2"></i>List Your Property
      </a>
    </div>
  </div>
</section>

{% endblock %}
